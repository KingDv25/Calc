<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Advanced Home Loan Calculator (₹)</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      padding: 20px;
      background-color: #f4f4f9;
    }
    .calculator {
      max-width: 500px;
      margin: 0 auto;
      padding: 20px;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }
    h1 {
      text-align: center;
      color: #333;
    }
    label {
      display: block;
      margin: 10px 0 5px;
      color: #555;
    }
    input {
      width: 100%;
      padding: 8px;
      margin-bottom: 10px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    button {
      width: 100%;
      padding: 10px;
      background-color: #007bff;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    button:hover {
      background-color: #0056b3;
    }
    .result {
      margin-top: 20px;
      padding: 10px;
      background-color: #e9f5ff;
      border-radius: 4px;
      text-align: center;
    }
  </style>
</head>
<body>

  <div class="calculator">
    <h1>Advanced Home Loan Calculator (₹)</h1>
    <label for="propertyPrice">Property Price (₹):</label>
    <input type="number" id="propertyPrice" placeholder="Enter property price">

    <label for="downPayment">Down Payment (₹):</label>
    <input type="number" id="downPayment" placeholder="Enter down payment">

    <label for="loanAmount">Loan Amount (₹):</label>
    <input type="number" id="loanAmount" placeholder="Loan amount (auto-calculated)" readonly>

    <label for="interestRate">Interest Rate (%):</label>
    <input type="number" id="interestRate" placeholder="Enter interest rate">

    <label for="loanTerm">Loan Term (Years):</label>
    <input type="number" id="loanTerm" placeholder="Enter loan term">

    <label for="propertyTax">Property Tax (₹/year):</label>
    <input type="number" id="propertyTax" placeholder="Enter property tax">

    <label for="homeInsurance">Home Insurance (₹/year):</label>
    <input type="number" id="homeInsurance" placeholder="Enter home insurance">

    <label for="maintenanceFee">Maintenance Fee (₹/month):</label>
    <input type="number" id="maintenanceFee" placeholder="Enter maintenance fee">

    <button onclick="calculateEMI()">Calculate EMI</button>

    <div class="result" id="result"></div>
  </div>

  <script>
    // Auto-calculate loan amount
    document.getElementById('propertyPrice').addEventListener('input', updateLoanAmount);
    document.getElementById('downPayment').addEventListener('input', updateLoanAmount);

    function updateLoanAmount() {
      const propertyPrice = parseFloat(document.getElementById('propertyPrice').value) || 0;
      const downPayment = parseFloat(document.getElementById('downPayment').value) || 0;
      const loanAmount = propertyPrice - downPayment;
      document.getElementById('loanAmount').value = loanAmount.toFixed(2);
    }

    function calculateEMI() {
      // Get input values
      const loanAmount = parseFloat(document.getElementById('loanAmount').value);
      const interestRate = parseFloat(document.getElementById('interestRate').value);
      const loanTerm = parseFloat(document.getElementById('loanTerm').value);
      const propertyTax = parseFloat(document.getElementById('propertyTax').value) || 0;
      const homeInsurance = parseFloat(document.getElementById('homeInsurance').value) || 0;
      const maintenanceFee = parseFloat(document.getElementById('maintenanceFee').value) || 0;

      // Validate inputs
      if (isNaN(loanAmount) || isNaN(interestRate) || isNaN(loanTerm)) {
        alert("Please fill in all required fields with valid numbers.");
        return;
      }

      // Calculate EMI
      const monthlyInterestRate = (interestRate / 100) / 12;
      const numberOfPayments = loanTerm * 12;
      const emi =
        (loanAmount * monthlyInterestRate * Math.pow(1 + monthlyInterestRate, numberOfPayments)) /
        (Math.pow(1 + monthlyInterestRate, numberOfPayments) - 1);

      // Calculate additional monthly costs
      const monthlyPropertyTax = propertyTax / 12;
      const monthlyHomeInsurance = homeInsurance / 12;
      const totalMonthlyPayment = emi + monthlyPropertyTax + monthlyHomeInsurance + maintenanceFee;

      // Display result
      const resultElement = document.getElementById('result');
      resultElement.innerHTML = `
        <strong>Monthly EMI:</strong> ₹${emi.toFixed(2)}<br>
        <strong>Additional Monthly Costs:</strong><br>
        - Property Tax: ₹${monthlyPropertyTax.toFixed(2)}<br>
        - Home Insurance: ₹${monthlyHomeInsurance.toFixed(2)}<br>
        - Maintenance Fee: ₹${maintenanceFee.toFixed(2)}<br>
        <strong>Total Monthly Payment:</strong> ₹${totalMonthlyPayment.toFixed(2)}
      `;
    }
  </script>
</body>
</html>